import boto3

def analyze_iam_policy(role_name):
    iam = boto3.client('iam')

    # Get the role's policy
    role_policy = iam.get_role_policy(
        RoleName=role_name,
        PolicyName='AmazonS3FullAccess'  # Change this to your policy name
    )

    # Extract the policy document
    policy_document = role_policy['PolicyDocument']

    # Extract some basic information
    version = policy_document.get('Version', 'N/A')
    statement_count = len(policy_document.get('Statement', []))

    print("IAM Policy Analysis:")
    print(f"Version: {version}")
    print(f"Number of Statements: {statement_count}")

    # Analyze each statement in the policy
    for idx, statement in enumerate(policy_document.get('Statement', []), start=1):
        print(f"\nStatement {idx}:")
        effect = statement.get('Effect', 'N/A')
        actions = statement.get('Action', 'N/A')
        resources = statement.get('Resource', 'N/A')
        conditions = statement.get('Condition', 'N/A')

        print(f"Effect: {effect}")
        print(f"Actions: {actions}")
        print(f"Resources: {resources}")
        print(f"Conditions: {conditions}")

# Example IAM role name
role_name = 'your-role-name'  # Replace 'your-role-name' with your actual IAM role name

# Analyze the IAM role policy
analyze_iam_policy(role_name)